<script type="text/ng-template" id="result-list-modal.html">
    <div class="modal-header">
        <h3 class="modal-title">Are you sure?</h3>
    </div>
    <div class="modal-body">
        Are you sure you want to delete {{test_run.build_id}}?
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary" ng-click="ok()">Yes</button>
        <button class="btn btn-warning" ng-click="cancel()">No</button>
    </div>
</script>
<loading ng-if="loading"></loading>
<ul class="list-unstyled" ng-if="!loading">
    <li ng-repeat="test_run in test_runs | filter:filterText | startFrom: filterText ? 0 : pagination.page * pagination.perPage | limitTo: pagination.perPage">
        <h4>
            <span ng-if="!test_run.locked">
                <span class="dropdown" on-toggle="toggled(open)">
                    <button type="button" class="btn btn-link btn-xs dropdown-toggle"><i class="fa fa-caret-down"></i>
                    </button>
                    <ul class="dropdown-menu">
                        <li><a href ng-click="open()"><i class="fa fa-pencil"></i> Edit</a>
                        </li>
                        <li><a href ng-click="delete(test_run)"><i class="fa fa-trash-o"></i> Delete</a>
                        </li>
                    </ul>
                </span>
                <a ng-href="#/users/{{user.name}}/test_runs/{{test_run.id}}" ng-if="!isSmoke">{{test_run.build_id}}</a>
                <a ng-href="#/smoke-builds/test_runs/{{test_run.id}}" ng-if="isSmoke">{{test_run.build_id}}</a>
            </span>
            <span class="disabled" ng-if="test_run.locked">{{test_run.build_id}}</span>
            <small>({{test_run.created_at | date:'short'}})</small>
        </h4>
    </li>
    <li ng-if="!loading && !user.test_runs.length">No builds found</li>
</ul>